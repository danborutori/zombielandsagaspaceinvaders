<html>
    <header>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta charset="ISO-8859-1" />

        <meta property="og:title" content="ゾンビランドサガスペースインベーダーズ" />
        <meta property="og:description" content="サガを救いために" />
        <meta property="og:image" content="https://www.danborutori.com:86/zlsspaceinvader/preview.png" />
        <meta property="twitter:card" content="summary" />	
        <meta property="twitter:title" content="ゾンビランドサガスペースインベーダーズ" />
        <meta property="twitter:description" content="サガを救いために" />
        <meta property="twitter:image" content="https://www.danborutori.com:86/zlsspaceinvader/preview.png" />

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="./css/style.css">

        <title>ゾンビランドサガスペースインベーダーズ</title>
        <script src="script/main.js"></script>
    </header>
    <body style="background-color: black; user-select: none; touch-action: none;">
        <center>
            <table>
                <tr><td><input id="audioButton" type="button" value="SOUND OFF" /></td></tr>
                <tr>
                    <td>
                        <div style="position: relative;">
                            <canvas id="mainCanvas" width="360" height="360" style="width: 720; height: 720; image-rendering: pixelated;"></canvas>
                            <div id="loadingLabel" style="position: absolute; top: 360; left: 360; transform: translate(-50%, -50%); color: white; font-family: Trebuchet MS;">LOADING</div>
                        </div>
                    </td>
                </tr>
                <tr id="onScreenController">
                    <td colspan="3" style="color: white; font-family: Trebuchet MS; text-align: center;">
                        <br/>
                        <input id="leftButton" type="button" value="-LEFT-" style="font-size: 70; padding-top: 20; padding-bottom: 20;"/>
                        <input id="rightButton" type="button" value="-RIGHT-" style="font-size: 70; padding-top: 20; padding-bottom: 20;"/>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <input id="fireButton" type="button" value="FIRE" style="font-size: 70; padding-top: 20; padding-bottom: 20;"/>
                    </td>
                </tr>
                <tr>
                    <td style="vertical-align: top;">
                        <center>
                        <table style="color: white; font-family: Trebuchet MS;">
                            <tr><th colspan="2">How to Play:</th></tr>
                            <tr>
                                <td>Move</td>
                                <td>Left/Right Arrow</td>
                            </tr>
                            <tr>
                                <td>Fire</td>
                                <td>Up Arrow</td>
                            </tr>
                            <tr>
                                <td style="height: 32;"></td>
                            </tr>
                            <tr>
                                <td>
                                    <center>
                                    CREDIT:<br/><br/>
                                    - Sound Effect -<br/>
                                    <a href="https://www.classicgaming.cc/classics/space-invaders/sounds">Classic Gaming.cc</a><br/>
                                    <a href="http://soundfxcenter.com/sound_effect/search.php?sfx=Galaga">Sound FX Center</a><br/>
                                    <a href="https://freesound.org/people/Shaun105/sounds/268168/">Shaun105 Laser Sound Effect</a><br/>                                     
                                    <br/>
                                    - Sprites -<br/>
                                    Capture Beam&nbsp;&nbsp;<a href="https://www.spriters-resource.com/arcade/galaga/sheet/26482/">The Sprites Resource</a><br/>
                                    </center>
                                </td><td style="vertical-align: top;">
                                    AUTHOR <br/>
                                    - Twitter -<br/>
                                    <a href="https://twitter.com/lamylanmc" target="_new">@lamylanmc</a><br/>
                                    <a href="https://twitter.com/danborutori" target="_new">@danborutori</a><br/>
                                    <br/>
                                    v1.3<br/>
                                </td>
                            </tr>
                        </table>
                        </center>
                    </td>
                </tr>
            </table>
        </center>
    </body>

    <script>
        const mobileCheck = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        if(!mobileCheck){
            onScreenController.remove()
        }else{
            zlsSpaceInvader.Input.shared.init(leftButton, rightButton, fireButton)
            document.body.style.zoom = window.innerWidth/728
            console.log(document.body.style.zoom)
        }

        const main = new zlsSpaceInvader.Main()
        main.init(mainCanvas).then( main=>{
            loadingLabel.style.display = "none"
            main.run()
        })

        audioButton.onclick = e=>{
            main.onMute(audioButton)
        }
    </script>
</html>