<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta charset="UTF-8" />

        <meta property="og:title" content="„Çæ„É≥„Éì„É©„É≥„Éâ„Çµ„Ç¨„Çπ„Éö„Éº„Çπ„Ç§„É≥„Éô„Éº„ÉÄ„Éº„Ç∫" />
        <meta property="og:description" content="„Çµ„Ç¨„ÇíÊïë„ÅÑ„Åü„ÇÅ„Å´" />
        <meta property="og:image" content="https://www.danborutori.com:86/zlsspaceinvader/preview.png" />
        <meta property="twitter:card" content="summary" />	
        <meta property="twitter:title" content="„Çæ„É≥„Éì„É©„É≥„Éâ„Çµ„Ç¨„Çπ„Éö„Éº„Çπ„Ç§„É≥„Éô„Éº„ÉÄ„Éº„Ç∫" />
        <meta property="twitter:description" content="„Çµ„Ç¨„ÇíÊïë„ÅÑ„Åü„ÇÅ„Å´" />
        <meta property="twitter:image" content="https://www.danborutori.com:86/zlsspaceinvader/preview.png" />

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="./css/style.css">
        <link rel="manifest" href="./manifest.webmanifest" />

        <style>
            @import url('https://fonts.googleapis.com/css2?family=DotGothic16&display=swap');
        </style>

        <title>„Çæ„É≥„Éì„É©„É≥„Éâ„Çµ„Ç¨„Çπ„Éö„Éº„Çπ„Ç§„É≥„Éô„Éº„ÉÄ„Éº„Ç∫</title>
        <script src="script/main.js"></script>
    </head>
    <body style="background-color: black; user-select: none;">
        <center>
            <table>
                <tr><td><input id="audioButton" type="button" value="SOUND OFF" style="font-family: DotGothic16;"/></td></tr>
                <tr>
                    <td>
                        <div style="position: relative;">
                            <canvas id="mainCanvas" width="360" height="360" style="width: 720; height: 720; image-rendering: pixelated;"></canvas>
                            <div id="loadingLabel" style="position: absolute; top: 360; left: 360; transform: translate(-50%, -50%); color: white; font-family: DotGothic16;">LOADING</div>
                        </div>
                    </td>
                </tr>
                <tr id="onScreenController">
                    <td colspan="3" style="color: white; font-family: DotGothic16; text-align: center; touch-action: none;">
                        <br/>
                        <input id="leftButton" type="image"/>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <input id="rightButton" type="image"/>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <input id="fireButton" type="image"/>
                    </td>
                </tr>
                <tr>
                    <td style="vertical-align: top;">
                        <center>
                        <table style="color: white; font-family: DotGothic16;">
                            <tr><th colspan="2">How to Play:</th></tr>
                            <tr>
                                <td>Move</td>
                                <td>Left/Right Arrow</td>
                            </tr>
                            <tr>
                                <td>Fire</td>
                                <td>Up Arrow</td>
                            </tr>
                            <tr>
                                <td style="height: 32;"></td>
                            </tr>
                            <tr>
                                <td>
                                    <center>
                                    CREDIT:<br/><br/>
                                    - Sound Effect -<br/>
                                    <a href="https://www.classicgaming.cc/classics/space-invaders/sounds">Classic Gaming.cc</a><br/>
                                    <a href="http://soundfxcenter.com/sound_effect/search.php?sfx=Galaga">Sound FX Center</a><br/>
                                    <a href="https://freesound.org/people/Shaun105/sounds/268168/">Shaun105 Laser Sound Effect</a><br/>
                                    <br/>
                                    <a href="https://twitter.com/colon_8bit"/>ÂæíËä±„Éç„ÇØ„É≠„Éû„É≥„Ç∑„Éº „Éï„Ç°„Éü„Ç≥„É≥È¢®<br/>by „Ç™„Ç™„ÉéüëæCOLON 8BIT MUSIC</a><br/>
                                    <a href="https://twitter.com/colon_8bit"/>REVENGE „Éï„Ç°„Éü„Ç≥„É≥È¢®<br/>by „Ç™„Ç™„ÉéüëæCOLON 8BIT MUSIC</a><br/>
                                    <a href="https://twitter.com/colon_8bit"/>„É®„Éü„Ç¨„Ç®„É¨ „Éï„Ç°„Éü„Ç≥„É≥È¢®<br/>by „Ç™„Ç™„ÉéüëæCOLON 8BIT MUSIC</a><br/>
                                    <a href="https://twitter.com/colon_8bit"/>Â§ßÊ≤≥„ÇàÂÖ±„Å´Ê≥£„ÅÑ„Å¶„Åè„Çå „Éï„Ç°„Éü„Ç≥„É≥È¢®<br/>by „Ç™„Ç™„ÉéüëæCOLON 8BIT MUSIC</a><br/>
                                    <br/>
                                    - Sprites -<br/>
                                    Capture Beam&nbsp;&nbsp;<a href="https://www.spriters-resource.com/arcade/galaga/sheet/26482/">The Sprites Resource</a><br/>
                                    </center>
                                </td><td style="vertical-align: top;">
                                    AUTHOR <br/>
                                    - Twitter -<br/>
                                    <a href="https://twitter.com/lamylanmc" target="_new">@lamylanmc</a><br/>
                                    <a href="https://twitter.com/danborutori" target="_new">@danborutori</a><br/>
                                    <br/>
                                    v2.3<br/>
                                </td>
                            </tr>
                        </table>
                        </center>
                    </td>
                </tr>
            </table>
        </center>
    </body>

    <script>
        const mobileCheck = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
        if(!mobileCheck){
            onScreenController.remove()
        }else{
            zlsSpaceInvader.Input.shared.init(
                onScreenController,
                new zlsSpaceInvader.ImageButton(leftButton,"./images/but_left_up.png","./images/but_left_down.png"),
                new zlsSpaceInvader.ImageButton(rightButton,"./images/but_right_up.png","./images/but_right_down.png"), 
                new zlsSpaceInvader.ImageButton(fireButton,"./images/but_fire_up.png","./images/but_fire_down.png")
            )
            document.body.style.zoom = window.innerWidth/728
            console.log(document.body.style.zoom)
        }

        const main = new zlsSpaceInvader.Main()
        main.init(mainCanvas).then( main=>{
            loadingLabel.style.display = "none"
            main.run()
        })

        audioButton.onclick = e=>{
            main.onMute(audioButton)
        }

        try{
            navigator.serviceWorker.register("./script/serviceworker.js")
        }catch(_){
            // do nothing
        }
    </script>
</html>